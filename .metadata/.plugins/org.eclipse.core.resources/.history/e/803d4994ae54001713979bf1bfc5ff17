package com.mycompany;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import org.apache.wicket.markup.html.WebPage;
import org.apache.wicket.markup.html.form.DropDownChoice;
import org.apache.wicket.markup.html.form.Form;
import org.apache.wicket.markup.html.form.TextArea;
import org.apache.wicket.markup.html.form.TextField;
import org.apache.wicket.markup.html.panel.FeedbackPanel;
import org.apache.wicket.model.Model;
import org.apache.wicket.request.mapper.parameter.PageParameters;

public class HomePage extends WebPage {

  private static final long serialVersionUID = 3598788934381254916L;

  private Form form = new Form("f") {
    private static final long serialVersionUID = -1700095884500348972L;

    @Override
    protected void onSubmit() {
      ResultPage result = new ResultPage((HomePage) this.getParent());
      setResponsePage(result);
    }
  };

  private Model mSubject = new Model();

  private Model mType = new Model();

  private Model mDate = new Model(new Date());

  private Model mArticle = new Model();

  private FeedbackPanel feedback = new FeedbackPanel("msg");

  public HomePage(final PageParameters parameters) {

    add(feedback);

    add(form);

    TextField txtSubject = new TextField("subject", mSubject);
    txtSubject.setRequired(true);
    form.add(txtSubject);

    List<String> typeList = new ArrayList<String>();
    typeList.add("日記");
    typeList.add("Book Review");
    typeList.add("Tech Memo");
    typeList.add("Diet");
    // If you want to set the Default Value of combo box,
    // write like following.
    //mType.setObject("Diary");
    DropDownChoice cmbType =new DropDownChoice("type", mType, typeList);
    cmbType.setRequired(true);
    form.add(cmbType);

    TextField txtDate = new TextField("date", mDate,Date.class);
    txtDate.setRequired(true);
    form.add(txtDate);

    TextArea txtArticle = new TextArea("article", mArticle);
    txtArticle.setRequired(true);
    form.add(txtArticle);
  }

  public Model getMSubject() {
    return mSubject;
  }

  public Model getMType() {
    return mType;
  }

  public Model getMDate() {
    return mDate;
  }

  public Model getMArticle() {
    return mArticle;
  }
}